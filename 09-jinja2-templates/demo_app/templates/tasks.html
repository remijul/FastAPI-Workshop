{% extends "base.html" %}

{% block title %}Mes tÃ¢ches{% endblock %}

{% block content %}
<div class="card">
    <div class="tasks-header">
        <h1>ğŸ“‹ Mes tÃ¢ches</h1>
        <a href="/tasks/new" class="btn">â• Nouvelle tÃ¢che</a>
    </div>
    
    {% if tasks|length == 0 %}
        <div class="empty-state">
            <div class="empty-state-icon">ğŸ“</div>
            <h2 style="color: #666; margin-bottom: 1rem;">Aucune tÃ¢che</h2>
            <p style="color: #999; margin-bottom: 2rem;">
                Commencez par crÃ©er votre premiÃ¨re tÃ¢che !
            </p>
            <a href="/tasks/new" class="btn">â• CrÃ©er une tÃ¢che</a>
        </div>
    {% else %}
        <p style="color: #666; margin-bottom: 1.5rem;">
            Total : {{ tasks|length }} tÃ¢che{% if tasks|length > 1 %}s{% endif %}
        </p>
        
        <ul class="task-list">
            {% for task in tasks %}
            <li class="task-item {% if task.completed %}completed{% endif %}">
                <div class="task-content">
                    <h3>{{ task.title }}</h3>
                    <p>{{ task.description }}</p>
                </div>
                
                <div class="task-actions">
                    {% if not task.completed %}
                    <form method="POST" action="/tasks/{{ task.id }}/toggle" style="display: inline;">
                        <button type="submit" class="btn btn-sm">
                            âœ“ Terminer
                        </button>
                    </form>
                    {% endif %}
                    
                    <form method="POST" action="/tasks/{{ task.id }}/delete" style="display: inline;">
                        <button type="submit" class="btn btn-sm btn-danger">
                            ğŸ—‘ï¸ Supprimer
                        </button>
                    </form>
                </div>
            </li>
            {% endfor %}
        </ul>
    {% endif %}
</div>
{% endblock %}